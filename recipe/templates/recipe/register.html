{% extends 'recipe/base.html' %}
{% load static %}
{% block title %}Register{% endblock %}

{% block content %}
<section class="auth-wrapper"
         style="display:flex; justify-content:center; align-items:center; min-height:100vh;
                background-image: url('{% static "images/auth_bg.jpg" %}'); background-size:cover; background-position:center;">
  <div class="auth-card glass-medium" style="padding:40px; width:400px; max-width:90%;">
    <!-- Heading -->
    <h2 class="auth-title" style="text-align:center; margin-bottom:10px;">Create Account</h2>
    <p class="muted" style="text-align:center; margin-bottom:30px;">Join to save recipes and get better recommendations</p>

    <!-- Form -->
    <form method="post" class="auth-form" novalidate>
      {% csrf_token %}

      <!-- Username -->
      <div class="form-group mb-3">
        <label for="id_username">Username</label>
        <input type="text" name="username" id="id_username" class="form-control" required
               value="{{ request.POST.username|default_if_none:'' }}">
        {% if error %}<p style="color:red;">{{ error }}</p>{% endif %}
      </div>

      <!-- Email -->
      <div class="form-group mb-3">
        <label for="id_email">Email</label>
        <input type="email" name="email" id="id_email" class="form-control" required
               value="{{ request.POST.email|default_if_none:'' }}">
      </div>

      <!-- Password -->
      <div class="form-group mb-3">
        <label for="id_password">Password</label>
        <input type="password" name="password" id="id_password" class="form-control" required>
        <small style="color:#888;">Your password must not be too common, too short, or entirely numeric.</small>
      </div>

      <!-- Password confirmation -->
      <div class="form-group mb-4">
        <label for="id_password2">Confirm Password</label>
        <input type="password" name="password2" id="id_password2" class="form-control" required>
        <small style="color:#888;">Enter the same password as before, for verification.</small>
      </div>

      <!-- Buttons -->
      <div class="d-flex justify-content-between align-items-center">
        <button type="submit" class="btn vp-btn-primary">Register</button>
        <a href="{% url 'login' %}" class="btn vp-btn-secondary">Already have an account?</a>
      </div>
    </form>
  </div>
</section>

<style>
  .glass-medium {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.25);
  }
  .form-control {
    width: 100%;
    padding: 10px 12px;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.4);
    background: rgba(255,255,255,0.25);
    color: #fff;
  }
  .form-control:focus {
    outline: none;
    border-color: #ffd700;
    background: rgba(255,255,255,0.35);
  }
  .btn {
    padding: 10px 15px;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    border:none;
  }
  .vp-btn-primary { background-color:#ffd700; color:#000; }
  .vp-btn-secondary { background-color:rgba(255,255,255,0.3); color:#fff; }
  .vp-btn-primary:hover { background-color:#e6c200; }
  .vp-btn-secondary:hover { background-color:rgba(255,255,255,0.5); }
  label { display:block; margin-bottom:5px; color:#fff; font-weight:bold; }
  small { font-size:0.8em; }
</style>
{% endblock %}
